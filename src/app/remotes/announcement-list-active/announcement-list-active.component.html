<ng-container *ngIf="announcements$ | async as announcements">
  <div class="surface-200 m-0 p-2 sm:p-3 overflow-hidden">
    <div class="flex flex-column row-gap-2 px-1">
      <div class="mb-2 text-base md:text-lg font-bold">Announcements</div>
      <a
        *ngFor="let announcement of announcements; let i = index"
        class="announcement-row block flex flex-row flex-nowrap justify-content-start align-items-center column-gap-3 hover:font-bold cursor-pointer border-none border-bottom-1 border-solid border-gray-400"
        (click)="announcementContent.toggle($event)"
      >
        <div class="font-bold" aria-hidden="true">
          <div
            id="am_list_active_data_row_' + i + '_icon"
            class="pi text-base md:text-xl"
            [ngClass]="
              announcement.type === 'EVENT'
                ? 'pi-calendar'
                : announcement.type === 'INFO'
                  ? 'pi-info-circle'
                  : announcement.type === 'SYSTEM_MAINTENANCE'
                    ? 'pi-wrench'
                    : 'pi-info-circle'
            "
          ></div>
        </div>
        <div class="mb-2 w-11 flex flex-column row-gap-1">
          <div
            [id]="'am_list_active_data_row_' + i + '_title'"
            class="text-sm sm:text-base md:text-md font-bold white-space-nowrap overflow-hidden text-overflow-ellipsis"
          >
            {{ announcement.title }}
          </div>
          <div
            [id]="'am_list_active_data_row_' + i + '_content'"
            class="text-xs sm:text-sm md:text-base white-space-nowrap overflow-hidden text-overflow-ellipsis"
          >
            {{ announcement.content }}
          </div>
        </div>

        <!-- DETAIL -->
        <p-overlayPanel #announcementContent>
          <a class="" (click)="announcementContent.toggle($event)">
            <div class="flex flex-column row-gap-2 px-1">
              <div
                [id]="'am_list_active_data_row_' + i + '_detail_icon'"
                class="pi text-xl"
                [ngClass]="
                  announcement.type === 'EVENT'
                    ? 'pi-calendar'
                    : announcement.type === 'INFO'
                      ? 'pi-info-circle'
                      : announcement.type === 'SYSTEM_MAINTENANCE'
                        ? 'pi-wrench'
                        : 'pi-info-circle'
                "
              ></div>
            </div>
          </a>
        </p-overlayPanel>
      </a>
    </div>
  </div>
</ng-container>
